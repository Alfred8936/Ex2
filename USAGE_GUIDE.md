# SHRDLU Part1 实验 - 使用说明

## 快速开始

### 1. 打开应用

在浏览器中打开 `Part1_SHRDLU/index.html` 文件。

**推荐方式**（使用本地服务器）：
```bash
cd Part1_SHRDLU
python3 -m http.server 8080
# 然后在浏览器访问 http://localhost:8080
```

### 2. 理解实验目的

本实验展示了自然语言处理系统中**解析器集成**的重要性。通过三个不同的UI界面，你可以直观地看到：

- ❌ **分离的解析器无法工作** - 即使各自功能正常
- ✅ **集成的解析器能够正确理解用户意图**

### 3. 测试三个UI界面

#### 测试步骤：

**第一步：测试UI界面1（对象解析器）**
1. 点击"UI界面1 - 对象解析器"按钮
2. 输入命令：`拿起红色的方块`
3. 点击"执行"按钮
4. 观察结果：显示 **"Parser failed to identify objects."**
5. 理解原因：虽然识别了"红色"和"方块"，但忽略了"拿起"动作

**第二步：测试UI界面2（命令解析器）**
1. 点击"UI界面2 - 命令解析器"按钮
2. 输入命令：`拿起红色的方块`
3. 点击"执行"按钮
4. 观察结果：显示 **"I don't understand that command."**
5. 理解原因：虽然识别了"拿起"动作，但忽略了"红色方块"对象

**第三步：测试修复后的UI（完整解析器）**
1. 点击"修复后的UI"按钮
2. 输入命令：`拿起红色的方块`
3. 点击"执行"按钮
4. 观察结果：**成功！**红色方块被拿起并移到画布上方
5. 理解原因：同时识别了动作和对象，完整理解了用户意图

### 4. 更多示例命令

尝试这些命令来进一步测试：

```
拿起红色的方块
拿起蓝色的球
拿起黄色的金字塔
拿起绿色的立方体
移动红色的方块
移动蓝色的球
放下
```

**提示**：
- 先用"拿起"命令抓取一个积木
- 然后可以使用"放下"命令将其放回
- 也可以使用"移动"命令改变积木位置

## 实验原理

### 问题的本质

两个独立的解析器：
- **对象解析器**：能识别颜色和形状，但不知道要做什么
- **命令解析器**：能识别动作，但不知道对哪个对象操作

### 为什么会失败？

1. **缺乏协同**：两个解析器各自工作，不共享信息
2. **误导性错误**：错误消息没有准确反映真实问题
3. **不完整的解析**：任何一方的信息都不足以执行命令

### 解决方案

**集成解析器**同时处理：
1. 识别动作（拿起/移动/放下）
2. 识别对象属性（颜色/形状）
3. 验证完整性（必须同时有动作和对象）
4. 提供清晰反馈（准确说明缺少什么）

## 学习要点

通过这个实验，你应该理解：

1. ✅ **系统集成至关重要** - 独立模块必须有效协作
2. ✅ **完整性验证必不可少** - 确保所有必要信息都已获取
3. ✅ **清晰的错误消息很重要** - 帮助用户理解问题所在
4. ✅ **整体设计思维** - 考虑系统的整体行为，而非仅关注局部

## 技术实现

### 文件结构
```
Part1_SHRDLU/
├── index.html      # 主页面和UI布局
├── style.css       # 样式和视觉设计
├── blocks.js       # 积木世界的渲染和交互逻辑
├── parser.js       # 三种解析器的实现
├── app.js          # 应用主逻辑和事件处理
└── README.md       # 详细说明文档
```

### 核心代码片段

**问题解析器（UI1）：**
```javascript
parseObjectsOnly(command) {
    // 只识别颜色和形状
    // 忽略动作 → 总是失败
}
```

**问题解析器（UI2）：**
```javascript
parseCommandOnly(command) {
    // 只识别动作
    // 忽略对象 → 总是失败
}
```

**修复后的解析器：**
```javascript
parseComplete(command) {
    // 1. 识别颜色
    // 2. 识别形状  
    // 3. 识别动作
    // 4. 验证：必须有动作 + (颜色或形状)
    // 5. 成功则执行
}
```

## 常见问题

### Q: 为什么错误消息具有误导性？
A: 这是有意设计的，用于展示糟糕的错误处理如何让问题更严重。好的系统应该提供准确的错误消息。

### Q: 可以支持中英文命令吗？
A: 是的！解析器同时支持中文和英文命令，例如：
- 中文：`拿起红色的方块`
- 英文：`pick red cube`

### Q: 为什么有时找不到积木？
A: 确保你指定的颜色和形状组合存在。初始状态有：
- 红色方块（red cube）
- 蓝色球（blue sphere）
- 绿色方块（green cube）
- 黄色金字塔（yellow pyramid）

### Q: 可以扩展这个系统吗？
A: 当然！你可以：
- 添加更多积木
- 支持更复杂的命令（如"把A放到B上面"）
- 添加上下文理解（记住之前的对象）
- 实现更智能的错误恢复

## 总结

这个实验生动地展示了自然语言处理中的一个基本原则：

> **"整体大于部分之和"**
> 
> 单独的组件可能都很完美，但如果不能有效协作，系统就无法发挥作用。

记住：在设计NLP系统时，**集成和协作与各个组件的功能同样重要**！

---

**历史背景**：SHRDLU是由Terry Winograd于1968-1970年在MIT开发的开创性自然语言理解系统。本实验简化了原系统的复杂性，聚焦于解析器集成这一核心概念。
